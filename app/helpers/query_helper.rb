# frozen_string_literal: true

module QueryHelper
    # To be implemented
    # def fetch_data_with_search_and_pagination(model_,associatated_models=[],search_fields)
        # searchKey = params[:searchkey].upcase
    # authorize Partner.first, :list?   
    # dataparams = JSON.parse params[:dataparams]
    # puts "Data Params: #{dataparams}"
    # search_key = dataparams['searchKey'].upcase
    # page = dataparams['page']
    # # @partners = Partner.all
    # partners = Partner.where("concat_ws(' ' , UPPER(name), year_of_incorporation,UPPER(speciality),UPPER(location)) LIKE ?", "%#{search_key}%").order(created_at: :desc)
    # partners_filtered = partners.paginate(page: page, per_page: 25)
    # total_records = partners.count
    # policy_scope partners
    # render json: { partners: partners_filtered, total_records: total_records }, status: :ok

    # end
     
  end
  